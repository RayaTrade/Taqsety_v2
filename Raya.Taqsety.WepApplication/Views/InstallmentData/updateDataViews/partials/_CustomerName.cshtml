@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer localizer
<div>
    <span class="material-symbols-outlined"
          onclick="redirectToSummary()">
        arrow_back
    </span>
</div>

<div class="row py-2 justify-content-center">

    <div class="col-md-6">
        <span class="fw-bolder">🙂 Full Name</span>
        <div class="form__group m-0 ">
            <input type="text" id="customerName" name="customerName" class="form__field w-100" required placeholder="Your first 4 names">
            <label for="customerName" class="form__label inputPlaceHolder">Your first 4 names</label>
        </div>
        <div class="d-flex mt-2 justify-content-evenly">
            <div class="nameBar"></div>
            <div class="nameBar"></div>
            <div class="nameBar"></div>
            <div class="nameBar"></div>
        </div>
    </div>
</div>
<div class="row my-5 justify-content-center">
    <button class="btn w-25 btn-primary" id="updateBtn"> Update </button>
</div>
<script>$(function () {
        var instalmentCard = JSON.parse(sessionStorage.getItem("installmentCard"))
        var customerName = $("#customerName").val(instalmentCard.customerName);
        setTimeout(function () {
            $("#customerName").keypress()

        }, 200)
        $("#updateBtn").click(function () {

            $.ajax({
                url: baseURL + `InstallmentCard/UpdateCustomerFullName?installmentCardId=${instalmentCard.id}&newCustomerFullName=${$("#customerName").val()}`,
                type: "PUT",
                datatype: "json",
                contentType: "application/json",
                async: false,
                success: function (res) {
                    if (res.succeded) {
                        window.location.replace(fronApplicationPath + "/installmentData/Summary")
                    }
                    else {
                        console.log(res.message)
                    }
                },
                error: function (err) {
                    console.log("error: ", err)
                }
            });

        });

    })</script>